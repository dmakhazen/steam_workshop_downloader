# SteamMod Manager

Статическое веб-приложение для работы со списками модов Steam Workshop:
- поиск и загрузка карточек модов без Steam API-ключа;
- сохранение собственных списков модов в браузере;
- экспорт/импорт JSON;
- генерация скриптов SteamCMD (`.bat`/`.sh`).

## Что умеет приложение

- Выбор игры: **RimWorld**, **Stardew Valley**, **Terraria**.
- Каталог модов в интерфейсе (без iframe) с пагинацией и фильтрами.
- Авто-подгрузка деталей мода: описание, теги, статистика, изображения.
- Быстрое добавление в активный список из каталога или по ссылке `filedetails/?id=...`.
- Несколько списков модов с переключением и удалением.
- Экспорт активного списка в JSON и импорт из JSON-файла.
- Генерация SteamCMD-скриптов для скачивания модов активного списка.
- Альтернативная загрузка через сервисы `WorkshopDL` и `Steamworkshopdownloader.io` (через открытие ссылок).

## Стек и архитектура

Проект без сборки и без серверной части:

- `index.html` — разметка UI (панели, каталог, модальные окна).
- `style.css` — стили интерфейса.
- `app.js` — вся бизнес-логика, состояние, рендеринг и обработчики событий.

Хранение данных выполняется в `localStorage` (ключи):

- `steammod_lists`
- `steammod_active_list`
- `steammod_selected_game`

## Быстрый старт

### Вариант 1: открыть как статическую страницу

Откройте `index.html` в браузере.

### Вариант 2 (рекомендуется): через локальный сервер

```powershell
python -m http.server 8080
```

Затем откройте: `http://localhost:8080`

## Как пользоваться

1. Выберите игру в верхнем меню.
2. Нажмите **«Загрузить моды»** в блоке **«Каталог модов (без iframe)»**.
3. При необходимости настройте фильтры:
	 - сортировка/поиск Steam Workshop;
	 - теги и период;
	 - минимум подписчиков, рейтинг, сортировка карточек.
4. Добавляйте моды кнопкой **«Добавить»** на карточке.
5. Для ручного добавления вставьте ссылку на мод в поле `Вставь ссылку на мод`.
6. Экспортируйте список в JSON или создайте `.bat` / `.sh` для SteamCMD.

## Формат JSON для импорта/экспорта

```json
{
	"name": "My List",
	"appid": "294100",
	"mods": [
		{ "id": "1234567890", "name": "Example Mod" }
	]
}
```

Правила импорта:
- `mods[].id` должен быть числом в строковом виде;
- некорректные элементы отбрасываются;
- если `appid` не поддерживается, выбирается `294100` (RimWorld).

## SteamCMD

### Windows

1. Установите SteamCMD: https://developer.valvesoftware.com/wiki/SteamCMD
2. В приложении откройте **«Скачать через SteamCMD»** и сохраните `.bat`.
3. Запустите `.bat` рядом со `steamcmd.exe` (или поправьте путь).

### Linux

1. Установите SteamCMD и убедитесь, что доступен `steamcmd.sh`.
2. Сохраните `.sh` в приложении.
3. Сделайте исполняемым и запустите:

```bash
chmod +x your_list_name.sh
./your_list_name.sh
```

## Источники данных и ограничения

Каталог и детали модов загружаются через публичные прокси:

- `https://r.jina.ai/...`
- `https://api.allorigins.win/raw?...`

Важно:
- доступность прокси нестабильна и может зависеть от лимитов;
- при блокировке всплывающих окон альтернативные ссылки сохраняются в `.txt`;
- интерфейс не использует официальный Steam Web API и не требует API-ключ.

Актуальные сервисы в блоке «Скачать через другие сайты»:
- `https://workshopdl.net/?id=<mod_id>`
- `https://steamworkshopdownloader.io/?id=<mod_id>`

## Деплой (GitHub Pages)

1. Загрузите проект в GitHub-репозиторий.
2. Откройте **Settings → Pages**.
3. Выберите **Deploy from a branch** и ветку `main` (папка `/root`).
4. После публикации откройте URL вида:
	 `https://<username>.github.io/<repo-name>/`

## Лицензия

См. файл `LICENSE`.